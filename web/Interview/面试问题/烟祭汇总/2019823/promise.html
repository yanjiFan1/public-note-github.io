<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>promise</title>
</head>
<body>
	<div>
		
	</div>
	<script>
		let promise = new Promise()
		console.log(Promise.prototype.then())
		console.log(Promise.prototype.catch())
		/*finally方法的实现*/
		Promise.prototype.finally = function (callback) {
			let p = this.construcror;
			return this.then(
				value => p.resolve(callback()).then(() => value),
				reason => p.resolve(callback()).then(() => { throw reason })
			)
		}
		/*Promise.all--- 方法用于将多个Promise实例，包装成一个新的Promise实例*/
		const p = Promise.all([p1,p2,p3]);
		两种情况
		1. p1,p2,p3状态都变成fulfilled,p的状态才会变成fulfilled,此时p1，p2,p3的值会以数组形式传递给P
		2. p1,p2,p3只要有一个状态被rejected,p的状态就变成rejected,此时第一个被reject的实例的返回值，会传递给p的回调函数
		/*Promise.race()--方法用于将多个Promise实例，包装成一个新的Promise实例*/
		只要p1、p2、p3之中有一个实例率先改变状态，p的状态就跟着改变。那个率先改变的 Promise 实例的返回值，就传递给p的回调函数。

		
	</script>
</body>
</html>